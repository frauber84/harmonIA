# -*- coding: utf-8 -*-

import os
import codecs
from pathlib import Path
 
def LimpaCifraClub(x):
    ''' 
    Observação:
    algumas palavras como Amor e Amado certamente são
    algum erro do CifraClub detectando automaticamente cifras    
    '''
    chaves = {'<b>'   : '' ,              
              '</b>,' : '' ,
              '</b>'  : '' ,
              '[<b "="">'  : '' ,              
              '*'     : '' ,
              '['     : '' ,
              ']'     : '' ,              
              '\u00ba' : '\u00b0' ,   # uniformiza diminutos
              '<b class="aco">'  : '' ,
              'Amor'  : '' ,
              'Amorim'  : '' ,
              'Amada'  : '' ,
              'Amado'  : '' ,
              }     

    for key in sorted(chaves, key=len, reverse=True): # Through keys sorted by length
        x = x.replace(key, chaves[key])
    return x

def UniformizaCifra(x):
    chaves = { '7+ ' : '7M ' ,
              '7/5- ' : '7(b5) ' ,
              '7/9 ' : '7(9) ' ,
              '9/7 ' : '7(9) ' ,
              'dim7 ' : '\u00b07 ' ,
              '\u00b07(9-) ' : '\u00b07(b9) ' ,              
              'sus4/7 ' : '7sus4 ' ,              
              '4/7 ' : '7sus4 ' ,
              'm7/4 ' : '7(11) ' ,
              'm7sus4 ' : '7(11) ' ,
              '7/4 ' : '7sus4 ' ,
              '7(13-) ' : '7(b13) ' ,
              '7(4) ' : '7sus4 ' ,
              '4(7/9) ' : '7sus4(9) ' ,
              '7(4/9) ' : '7sus4(9) ' ,
              'maj7#11 ' : '7M(#11) ' ,
              '7/4/9 ' : '7sus4(9) ' ,
              '4/7/9 ' : '7sus4(9) ' ,
              '7(5+) ' : '7(#5) ' ,
              '7(5+/9-) ' : '7(#5/b9) ' ,
              '7(9)(11) ' : '7(9/11) ' ,
              '7/13 ' : '7(13) ' ,
              '7/13- ' : '7(b13) ' ,
              '7/-13 ' : '7(b13) ' ,
              '7/6 ' : '7(13) ' ,
              '7/5+ ' : '7(#5) ' ,
              '7/b5 ' : '7(b5) ' ,
              'C- ' : 'Cm ' ,
              'D- ' : 'Dm ' ,
              'E- ' : 'Em ' ,
              'F- ' : 'Fm ' ,
              'G- ' : 'Gm ' ,
              'A- ' : 'Am ' ,
              'B- ' : 'Bm ' ,
              'C#- ' : 'C#m ' ,
              'D#- ' : 'D#m ' ,
              'E#- ' : 'E#m ' ,
              'F#- ' : 'F#m ' ,
              'G#- ' : 'G#m ' ,
              'A#- ' : 'A#m ' ,
              'B#- ' : 'B#m ' ,
              'Cb- ' : 'Cbm ' ,
              'Db- ' : 'Dbm ' ,
              'Eb- ' : 'Ebm ' ,
              'Fb- ' : 'Fbm ' ,
              'Gb- ' : 'Gbm ' ,
              'Ab- ' : 'Abm ' ,
              'Bb- ' : 'Bbm ' ,
              'C4 ' : 'Csus4 ' ,
              'D4 ' : 'Dsus4 ' ,
              'E4 ' : 'Esus4 ' ,
              'F4 ' : 'Fsus4 ' ,
              'G4 ' : 'Gsus4 ' ,
              'A4 ' : 'Asus4 ' ,
              'B4 ' : 'Bsus4 ' ,
              'sus9 ' : 'sus2 ' ,
              'C#4 ' : 'C#sus4 ' ,
              'D#4 ' : 'D#sus4 ' ,
              'E#4 ' : 'E#sus4 ' ,
              'F#4 ' : 'F#sus4 ' ,
              'G#4 ' : 'G#sus4 ' ,
              'A#4 ' : 'A#sus4 ' ,
              'B#4 ' : 'B#sus4 ' ,
              'Cb4 ' : 'Cbsus4 ' ,
              'Db4 ' : 'Dbsus4 ' ,
              'Eb4 ' : 'Ebsus4 ' ,
              'Fb4 ' : 'Fbsus4 ' ,
              'Gb4 ' : 'Gbsus4 ' ,
              'Ab4 ' : 'Absus4 ' ,
              'Bb4 ' : 'Bbsus4 ' ,
              'C(#5) ' : 'C5+ ' ,
              'C#(#5) ' : 'C#5+ ' ,
              'Db(#5) ' : 'Db5+ ' ,
              'D(#5) ' : 'D5+ ' ,
              'D#(#5) ' : 'D#5+ ' ,
              'Eb(#5) ' : 'Eb5+ ' ,
              'E(#5) ' : 'E5+ ' ,
              'F(#5) ' : 'F5+ ' ,
              'F#(#5) ' : 'F#5+ ' ,
              'Gb(#5) ' : 'Gb5+ ' ,
              'G(#5) ' : 'G5+ ' ,
              'G#(#5) ' : 'G#5+ ' ,
              'Ab(#5) ' : 'Ab5+ ' ,
              'A(#5) ' : 'A5+ ' ,
              'A#(#5) ' : 'A#5+ ' ,
              'Bb(#5) ' : 'Bb5+ ' ,
              'B(#5) ' : 'B5+ ' ,
              'Cb(#5) ' : 'Cb5+ ' ,
              '5-/7 ' : '7(b5) ',
              'm(7M) ' : 'm7M ' ,
              'm5-/7 ' : 'm7(b5) ' ,
              'm7(5b) ' : 'm7(b5) ' ,
              'm7+ ' : 'm7M ' ,
              'm79 ' : 'm7(9) ' ,
              'maj7 ' : '7M ' ,
              'Maj7 ' : '7M ' ,
              'B/Eb ' : 'B/D# ' ,               
              '5+/7 ' : '7(#5) ' ,
              '6/9 ' : '6(9) ' ,
              '7(9-) ' : '7(b9) ' ,
              '7(-9) ' : '7(b9) ' ,
              '7(9b) ' : '7(b9) ' ,
              '7/13 ' : '7(13) ' ,
              '7/13b ' : '7(b13) ' ,
              '7/5+ ' : '7(#5) ' ,
              '7/5- ' : '7(b5) ' ,
              '7/9- ' : '7(b9) ' ,
              'm5-/7 ' : 'm7(b5) ' ,
              '5+/7 ' : '7(#5) ' ,
              '7(4)9 ' : '7sus4(9) ' ,
              '9(6) ' : '6(9) ' ,
              'm/9b ' : 'm(b9) ' ,
              'm5-/7 ' : 'm7(b5) ' ,
              'm7/11 ' : 'm7(11) ' ,
              '7/11 ' : '7(11) ' ,
              'm7/9 ' : 'm7(9) ' ,
              'm7/9+ ' : 'm7(#9) ' ,
              'm7/+9 ' : 'm7(#9) ' ,
              '7+/9 ' : '7M(9) ' ,
              '7/+9 ' : '7(#9) ' ,
              '7/10- ' : '7(#9) ' ,              
              'm9/7+ ' : 'm7M(9) ' ,
              'maj7(9) ' : '7M(9) ' ,
              'm5-/7 ' : 'm7(b5) ' ,
              'm7/9 ' : 'm7(9) ' ,
              '4(7/9)' : '7sus4(9) ' ,
              '7+/9 ' : '7M(9) ' ,
              '7/4(9) ' : '7sus4(9) ' ,
              '7/4(9/13) ' : '7sus4(9/13) ' ,
              '7M/9 ' : '7M(9) ' ,
              'm7(5-) ' : 'm7(b5) ' ,
              'm7add4 ' : 'm7(11) ' ,
              '7/#5 ' : '7(#5) ' ,
              '7(9/13-) ' : '7(9/b13) ' ,
              '7(9/-13) ' : '7(9/b13) ' ,
              '7(9/13b) ' : '7(9/b13) ' ,              
              'm7(5-) ' : 'm7(b5) ' ,
              '7/-9 ' : '7(b9) ' ,
              '7/9+ ' : '7(#9) ' ,              
              '4/7(9) ' : '7sus4(9) ' ,              
              '4/7(b9) ' : '7sus4(b9) ' ,
              '7(4)(9) ' : '7sus4(9) ' ,
              '7(4/13) ' : '7sus4(13) ' ,
              '7(9)(#11) ' : '7(9/#11) ' ,
              '7(9)(13) ' : '7(9/13) ' ,
              '7(9)(b13) ' : '7(9/b13) ' ,
              '7(9)(13-) ' : '7(9/b13) ' ,              
              '7(b9)(13) ' : '7(b9/13) ' ,
              '7(9-/13) ' : '7(b9/13) ' ,
              '7(9-)(13) ' : '7(b9/13) ' ,
              '7(-9)(13) ' : '7(b9/13) ' ,              
              '7+/5- ' : '7M(b5) ' ,
              '7/4(b9) ' : '7sus4(b9) ' ,              
              '7+/-5 ' : '7M(b5) ' ,
              '7(11)(13) ' : '7(11/13) ' ,
              'm7(b5)(b13) ' : 'm7(b5/b13) ' ,
              'm7(b5)(11) ' : 'm7(b5/11) ' ,
              '7(#9)(#11) ' : '7(#9/#11) ' ,
              '7(4)(9)(13) ' : '7sus4(9/13) ' ,
              '7(b9)(b13) ' : '7(b9/b13) ' ,
              '7(b9)(#11) ' : '7(b9/#11) ' ,
              '7(13b) ' : '7(b13) ' ,
              '7(13-) ' : '7(b13) ' ,
              '7(-13) ' : '7(b13) ' ,
              '7(9)(11)(13) ' : '7(9/11/13) ' ,
              '7(9)#11 ' : '7(9/#11) ' ,
              '7(4)(13) ' : '7sus4(13) ' ,
              '7(#11)(13) ' : '7(#11/13) ' ,
              '7(9-/11+) ' : '7(b9/#11) ' ,
              '7(13)(b9) ' : '7(b9/13) ' ,
              '7(4)(b9) ' : '7sus4(b9) ' ,
              '7(13)(-9) ' : '7(b9/13) ' ,
              '7(13)(9-) ' : '7(b9/13) ' ,
              '7(#9)(b13) ' : '7(#9/b13) ' ,
              '13/7 ' : '7(13) ' ,
              '7(9/11+) ' : '7(9/#11) ' ,              
              'dim ' : '\u00b0 ' ,
              'm4/7 ' : 'm7(11) ' ,
              '7/9-/11+/13 ' : '7(b9/#11/13) ' ,
              '7/9/4 ' : '7sus4(9) ' ,
              '7/9/11 ' : '7(9/11) ' ,
              'm9- ' : 'm(9b) ' ,
              '7/4/13 ' : '7sus4(13) ' ,
              '7/9/4 ' : '7sus4(9) ' ,
              '7+ ' : '7M ' ,
              '7+ ' : '7M ' ,
              '7+/5+ ' : '7M(#5) ' ,
              '7+/6 ' : '7M(13) ' ,
              'm7/9/11 ' : 'm7(9/11) ' ,
              '7+ ' : '7M ' ,
              '7(9/4) ' : '7sus4(9) ' ,
              '7+/11+ ' : '7M(#11) ' ,
              'm7/-5 ' : 'm7(b5) ' ,
              'o7 ' : '\u00b07 ' ,
              'm9/7 ' : 'm7(9) ' ,
              'm9/7+ ' : 'm7M(9) ' ,
              '7(9-/4) ' : '7sus4(b9) ' ,              
              '7/9/13 ' : '7(9/13) ' ,
              'm7/9/13 ' : 'm7(9/13) ' ,
              'm7/9b ' : 'm7(b9) ' ,
              '7/9b ' : '7(b9) ' ,
              '7(9)(b5) ' : '7(b5/9) ' ,
              '7M/#5 ' : '7M(#5) ' ,
              '7M/5+ ' : '7M(#5) ' ,
              '7add4 ' : '7(11) ' ,
              '7add9 ' : '7(9) ' ,
              'm7add4 ' : 'm7(11) ' ,
              'm7add9 ' : 'm7(9) ' ,
              '7sus4/13 ' : '7sus4(13) ' ,
              '7sus4/9 ' : '7sus4(9) ' ,
              '7(5+/9) ' : '7M(#5/9) ' ,
              '7+(9) ' : '7M(9) ' ,
              '7+/13/9 ' : '7M(9/13) ' ,
              '7/9(11) ' : '7(9/11) ' ,
              '7/9/13 ' : '7(9/13) ' ,
              '7/9M ' : '7(9) ' ,
              'm7M/5- ' : 'm7M(b5) ' ,
              'm5-7 ' : 'm7(b5) ' ,
              '7(11+) ' : '7(#11) ' ,
              '7+/13 ' : '7M(13) ' ,
              '7/9/11+ ' : '7(9/#11) ' ,
              '7/9/13 ' : '7(9/13) ' ,
              '7/9/13- ' : '7(9/b13) ' ,
              '7/b13 ' : '7(b13) ' ,
              '79/11 ' : '7(9/11) ' ,
              '7/#11 ' : '7(#11) ' ,
              '7/11+ ' : '7(#11) ' ,
              'm7/#11 ' : 'm7(#11) ' ,
              'm7/11+ ' : 'm7(#11) ' ,
              '7/4+ ' : '7(#11) ' ,
              '7M(11+) ' : '7M(#11) ' ,
              '7/#9 ' : '7(#9) ' ,
              '7/9# ' : '7(#9) ' ,
              '7/+5 ' : '7(#5) ' ,              
              '7/(9) ' : '7(9) ' ,
              'm7/4M ' : 'm7(11) ' ,
              'm7/5b ' : 'm7(b5) ' ,
              'm7/5b(9b) ' : 'm7(b5/b9) ' ,
              'm7/9# ' : 'm7(#9) ' ,
              'm7/9(B5) ' : 'm7(b5/9) ' ,
              '5+/7(9) ' : '7(#5/9) ' ,
              '7(9+/13-) ' : '7(#9/b13) ' ,              
              '7(B13) ' : '7(b13) ' ,
              '7(b13)(#9) ' : '7(#9/b13) ' ,
              '7(b13)(9) ' : '7(9/b13) ' ,
              '7(b13)(b9) ' : '7(b9/b13) ' ,
              '7(sus4) ' : '7sus4 ' ,
              '7/(b13) ' : '7(b13) ' ,
              '7/13+ ' : '7(13) ' ,
              '7/5b ' : '7(b5) ' ,
              '7/9# ' : '7(#9) ' ,
              '7/9-/13 ' : '7(b9/13) ' ,
              '7/9/11/13 ' : '7(9/11/13) ' ,
              'A7/9b(13) ' : '7(b9/13) ' ,
              '7maj ' : '7M ' ,              
              '7M9 ' : '7M(9) ' ,              
              '7(13)(9) ' : '7(9/13) ' ,
              '7(5-) ' : '7(b5) ' ,
              '7(9-/11) ' : '7(b9/11) ' ,
              '7(b5)(13) ' : '7(b5/13) ' ,
              '7/9(#11) ' : '7(9/#11) ' ,
              '7/9-/13- ' : '7(b9/b13) ' ,
              '7/-9/-13 ' : '7(b9/b13) ' ,
              '9/6 ' : '6(9) ' ,
              'maj7(#5) ' : '7M(#5) ' ,
              'maj7/11# ' : '7M(#11) ' ,              
              '6(9/11+) ' : '6(9/#11) ' ,
              '°(13-) ' : '°(b13) ' ,
              'dim(b13) ' : '°(b13) ' ,
              'm(7M/9) ' : 'm7M(9) ' ,
              'm5-/7- ' : 'm7(b5) ' ,
              'm7(B5) ' : 'm7(b5) ' ,
              '7(b5)/13 ' : '7(b5,13) ' ,
              '7(b9)(11) ' : '7(b9/11) ' ,              
              '7(9-/13-) ' : '7(b9/b13) ' ,
              '7(b9)(11) ' : '7(b9/11) ' ,
              '7(b9)(b5) ' : '7(b5,b9) ' ,
              '7/4(13) ' : '7sus4(13) ' ,
              '7/9(13) ' : '7(9/13) ' ,
              '7/9-/11+ ' : '7(b9/#11) ' ,
              '7/b9 ' : '7(b9) ' ,
              '7M(6)(9) ' : '7M(6/9) ' ,
              '7M(9)(13) ' : '7M(9/13) ' ,
              '9-/7 ' : '7(b9) ' ,
              '7(9+/11+) ' : '7(#9/#11) ' ,
              '7/9/#11 ' : '7(9/#11) ' ,
              'm7(9)b5 ' : 'm7(b5/9) ' ,
              'm7/9b5 ' : 'm7(b5/9) ' ,
              'm(7M/9) ' : 'm7M(9) ' ,
              'Dm(Add13) ' : 'Dm6 ' ,
              'Dm(Maj7) ' : 'Dm7M ' ,
              'Dm(maj7) ' : 'Dm7M ' ,
              '#m(Maj7) ' : '#m7M ' ,
              '#m(maj7) ' : '#m7M ' ,
              'bm(Maj7) ' : 'bm7M ' ,
              'bm(maj7) ' : 'bm7M ' ,
              '7/9/5- ' : '7(b5/9) ' ,
              '7/9b/13 ' : '7(b9/13) ' ,
              '7/9m ' : '7(b9) ' ,
              'm7/9m ' : 'm7(b9) ' ,
              '7M/(9) ' : '7M(9) ' ,              
              '7M/13 ' : '7M(13) ' ,
              '7M/6 ' : '7M(13) ' ,
              '7b/9- ' : '7(b9) ' ,
              '7b13 ' : '7(b13) ' ,
              'm7b13 ' : 'm7(b13) ' ,
              '7b9b5 ' : '7(b5/b9) ' ,
              '5(6/9) ' : '6(9) ' ,
              '5(7M) ' : '7M ' ,
              '5(7M/9) ' : '7M(9) ' ,
              '6/7 ' : '7(13) ' ,
              'C#o ' : 'C#\u00b0 ' ,
              'D#o ' : 'D#\u00b0 ' ,
              'F#o ' : 'D#\u00b0 ' ,
              'A#o ' : 'A#\u00b0 ' ,
              'Bbo ' : 'Bb\u00b0 ' ,
              '5+(7) ' : '7(#5) ' ,
              '7(+5)' : '7(#5) ' ,
              '7(5M) ' : '7 ' ,
              '7(6) ' : '7(13) ' ,
              '7(-5) ' : '7(b5) ' ,
              '7(5-) ' : '7(b5) ' ,
              'm(maj7) ' : 'm7M ' ,
              'Am/f ' : 'Am/F ' ,
              'm11/7 ' : 'm7(11) ' ,
              'm7(9+) ' : 'm7(#9) ' ,
              'm7/6/4 ' : 'm7(11/13) ' ,
              'm79- ' : 'm7(b9) ' ,
              '4/7(b9) ' : '7sus4(b9) ' ,
              '4(7) ' : '7sus4 ' ,   # cuidado com esse aqui
              '7(4/b9) ' : '7sus4(b9) ' ,
              '7(5+/9+) ' : '7(#5/#9) ' ,
              '7(9+) ' : '7(#9) ' ,
              '7/5-/9 ' : '7(b5/9) ' ,
              'maj7(#11) ' : '7M(#11) ' ,
              'm(maj7) ' : 'm7M ' ,
              'm5- ' : '\u00b0 ' ,
              'm7(-5) ' : 'm7(b5) ' ,
              'm7(add11) ' : 'm7(11) ' ,
              'm7/5 ' : 'm7 ' ,
              'm7/4m ' : 'm7(11) ' ,
              'm711 ' : 'm7(11) ' ,
              'm7b5 ' : 'm7(b5) ' ,
              'maj7(#11) ' : '7M(#11) ' ,
              '7/5b(9) ' : '7(b5/9)' ,
              'm7/11- ' : 'm7(11) ' ,
              '4(7(9)) ' : '7sus4(9) ' ,
              'C69 ' : 'C6(9) ' ,
              '7M/5- ' : '7M(b5) ' ,
              '9/7M ' : '7M(9) ' ,
              'm7M(5-) ' : '\u00b07M ' ,
              '7(b5,13) ' : '7(b5/13) ' ,
              '7(9+) ' : '7(#9) ' ,
              'D(add9) ' : 'Dadd9 ' ,
              '7+/9b ' : '7M(b9) ' ,
              '7/5+/9- ' : '7(#5/b9) ' ,
              '7/5-/9- ' : '7(b5/b9) ' ,
              '749 ' : '7sus4(9) ' ,
              'DM7 ' : 'D7M ' ,
              'CM7 ' : 'C7M ' ,
              'DM7(9) ' : 'D7M(9) ' ,
              'm5b/7m ' : 'm7(b5) ' ,
              'm6/7 ' : 'm7(13) ' ,
              'm7(b5)(9) ' : 'm7(b5/9) ' ,
              '7(4+) ' : '7(#11) ' ,
              '7(b9)/13 ' : '7(b9/13) ' ,
              '7/13(b9) ' : '7(b9/13) ' ,
              '7/5(9) ' : '7(9) ' ,
              '7M(5+) ' : '7M(#5) ' ,
              'm(Maj7) ' : 'm7M ' ,
              'm5-/7M ' : '\u00b07M ' ,
              'm7(-5) ' : 'm7(b5) ' ,
              '7(b13)(11) ' : '7(11/b13) ' ,
              '7+(4+) ' : '7(#11) ' ,
              '7+(5b) ' : '7M(b5) ' ,
              '7+(b5) ' : '7M(b5) ' ,
              'sus4/7/9 ' : '7sus4(9) ' ,              
              'M7(9) ' : '7M(9) ' ,              
              'D79 ' : 'D7(9) ' ,
              'maj7/5# ' : '7M(#5) ' ,
              'maj7(9) ' : '7M(9) ' ,
              'M7(13) ' : '7M(13) ' ,
              '9/7M ' : '7M(9) ' ,
              '7M(6) ' : '7M(13) ' ,
              'm7(4M) ' : 'm7(11) ' ,
              '7/sus4 ' : '7sus4 ' ,
              'maj79 ' : '7M(9) ' ,
              'maj7(13) ' : '7M(13) ' ,
              'maj7(9) ' : '7M(9) ' ,
              'm75- ' : 'm7(b5) ' ,
              '713 ' : '7(13) ' ,
              '74(9) ' : '7sus4(9) ' ,
              '7/b9/13 ' : '7(b9/13) ' ,
              '7/b5(b9) ' : '7(b5/b9) ' ,
              '7/9(4/13) ' : '7sus4(9/13)' ,
              '7/6- ' : '7(b13) ' ,
              '7/6(9) ' : '7(9/13) ' ,
              '7/4/9/13 ' : '7sus4(9/13) ' ,
              '7/13/9- ' : '7(b9/13) ' ,
              '7/11/13 ' : '7(11/13) ' ,
              '7/-5 ' : '7(b5) ' ,
              'm7/-5 ' : 'm7(b5) ' ,
              '7/(5B) ' : '7(b5) ' ,
              'm7/(5B) ' : 'm7(b5) ' ,
              '7(B9) ' : '7(b9) ' ,
              '7(add4) ' : '7(11) ' ,
              '7(4/9/13) ' : '7sus4(9/13) ' ,
              '6/7(b9) ' : '7(b9/13)' ,
              '4(7/13) ' : '7sus4(13) ' ,             
              '(5+)(7)(9b) ' : '7(#5/b9) ' ,
              'm7(4) ' : 'm7(11) ' ,
              'm7(11)(9) ' : 'm7(9/11) ' ,
              'm(7+) ' : 'm7M ' ,
              'Dim ' : '\u00b0 ' ,
              '7SUS4 ' : '7sus4 ' ,
              'm9(b7)(11) ' : '7(b9/11) ' ,
              'm7/add11 ' : 'm7(11) ' ,
              '7(+9) ' : '7(#9) ' ,
              '7(5-/9) ' : '7(b5/9) ' ,
              '7(5b) ' : '7(b5) ' ,
              '7(9)(#5) ' : '7(#5/9) ' ,
              '7(9/11+/13) ' : '7(9/#11/13) ' ,
              '7(add11) ' : '7(11) ' ,
              '7(b9)13 ' : '7(b9/13) ' ,
              'm7/5B ' : 'm7(b5) ' ,
              'sus4(7) ' : '7sus4 ' ,
              '7(11#) ' : '7(#11) ' ,
              'maj7(13) ' : '7M(13) ' ,
              'maj7(9) ' : '7M(9) ' ,
              '7(b9)/5- ' : '7(b5/b9) ' ,
              '\u00b0/13- ' : '\u00b0(b13) ' ,
              '\u00b013 ' : '\u00b0(13) ' ,
              '7(#5)(9) ' : '7(#5/9) ' ,
              '7(9)(4) ' : '7sus4(9) ' ,
              '7(b5,b9) ' : '7(b5/b9) ' ,
              '7+(6/9) ' : '7M(9/13) ' ,
              'D74 ' : 'D7sus4 ' ,
              'D76 ' : 'D7(13) ' ,
              '7M(6/9) ' : '7M(9/13) ' ,              
              'm7(5)- ' : 'm7(b5) ' ,
              'm4/7/9 ' : 'm7(9/11) ' ,
              'maj7(9) ' : '7M(9) ' ,
              '7(4)(b13) ' : '7sus4(b13) ' ,
              '7(b13/b9) ' : '7(b9/13) ' ,
              '7(b5)(b9) ' : '7(b5/b9) ' ,
              '7/11+(13) ' : '7(#11/13) ' ,
              '9/7M ' : '7M(9) ' ,
              '7(4/9-) ' : '7sus4(b9) ' ,
              'm5-(7) ' : 'm7(b5) ' ,
              'm5/-7 ' : 'm7(b5) ' ,
              '4(7/9-) ' : '7sus4(b9) ' ,              
              'm5b/7 ' : 'm7(b5) ' ,
              'sus9/4' : 'sus4(9) ',
              '7(9)11 ' : '7(9/11) ' ,
              # RealBook              
              'min7 ' : 'm7 ' ,
              'min ' : 'm ' ,
              'maj7 ' : '7M ' ,
              'maj6 ' : '6 ' ,
              
              
              
              
              
              }     

    for key in sorted(chaves, key=len, reverse=True):
        x = x.replace(key, chaves[key])        
    return x

def CorrigeInversoes(x):    
    chaves = { '7(b9)(#11)(13)/' : '7(b9/#11/13)/' ,
              '7+/' : '7M/' ,
              '7+/9/' : '7M(9)/' ,
              'maj7/' : '7M/' ,
              'm7+/' : 'm7M/' ,
              '7/9-/' : '7(b9)/' ,
              '7/9/' : '7(9)/' ,
              'dim/' : '\u00b0/' ,
              'm7-5/' : 'm7(b5)/' ,
              'm7(5-)/' : 'm7(b5)/' ,
              '9(7M)/' : '7M(9)/' ,
              'dim7/' : '\u00b07/' ,
              '7(9)(b13)/' : '7(9/b13)/' ,
              '7(9)/13/' : '7(9/13)/' ,
              '7+(9)/' : '7M(9)/' ,
              '7/4/' : '7sus4/' ,
              'm7/4/' : 'm7(11)/' ,
              'm7/5-/' : 'm7(b5)/' ,
              'm7/5b/' : 'm7(b5)/' ,
              'm79/' : 'm7(9)/' ,
              '7M(11+)/' : '7M(#11)/' ,
              '7(9-)/' : '7(b9)/' ,
              'sus4(7)/' : '7sus4/' ,
              '4(7)/' : '7sus4/' ,
              '7(9+)/' : '7(#9)/' ,
              '7(9-)/' : '7(b9)/' ,
              'sus9/' : 'sus2/' ,              
              '7(9-)/' : '7(b9)/' ,
              'maj7(9) ' : 'M7(9) ' ,
              'maj7+11 ' : '7M(#11) ' ,
              'maj7+11/' : '7M(#11)/' ,              
              'maj7(13) ' : '7M(13) ' ,
              'maj7(9)/' : '7M(9)/' ,
              '6maj7#11 ' : '7M(#11/13) ' ,
              '7+/' : '7M/' ,
              '7+/' : '7M/' ,
              }
     
    for key in sorted(chaves, key=len, reverse=True):    
        x = x.replace(key, chaves[key])        
    return x     

    ''' CORREÇÃO DE tons que estava no data_set cifraclub
            if f_tom == "A#":
                f_tom = "Bb"   
                #acordes =acordes.replace("A#", "Bb")
                #acordes =acordes.replace("D#", "Eb")                                         
            if f_tom == "D#":
                f_tom = "Eb"   
                #acordes =acordes.replace("A#", "Bb")
                #acordes =acordes.replace("D#", "Eb")
                #acordes =acordes.replace("G#", "Ab")
            if f_tom == "G#":
                f_tom = "Ab"   
                #acordes =acordes.replace("A#", "Bb")
                #acordes =acordes.replace("D#", "Eb")
                #acordes =acordes.replace("G#", "Ab")
                #acordes =acordes.replace("C#", "Db")
        '''

def UniformizaCifraNewline(x):
    chaves = { '7+\r' : '7M\r' ,
              '7/5-\r' : '7(b5)\r' ,
              '7/9\r' : '7(9)\r' ,
              '9/7\r' : '7(9)\r' ,
              'dim7\r' : '\u00b07\r' ,
              '\u00b07(9-)\r' : '\u00b07(b9)\r' ,              
              'sus4/7\r' : '7sus4\r' ,              
              '4/7\r' : '7sus4\r' ,
              'm7/4\r' : '7(11)\r' ,
              'm7sus4\r' : '7(11)\r' ,
              '7/4\r' : '7sus4\r' ,
              '7(13-)\r' : '7(b13)\r' ,
              '7(4)\r' : '7sus4\r' ,
              '4(7/9)\r' : '7sus4(9)\r' ,
              '7(4/9)\r' : '7sus4(9)\r' ,              
              '7/4/9\r' : '7sus4(9)\r' ,
              '4/7/9\r' : '7sus4(9)\r' ,
              '7(5+)\r' : '7(#5)\r' ,
              '7(5+/9-)\r' : '7(#5/b9)\r' ,
              '7(9)(11)\r' : '7(9/11)\r' ,
              '7/13\r' : '7(13)\r' ,
              '7/13-\r' : '7(b13)\r' ,
              '7/-13\r' : '7(b13)\r' ,
              '7/6\r' : '7(13)\r' ,
              '7/5+\r' : '7(#5)\r' ,
              '7/b5\r' : '7(b5)\r' ,
              'C-\r' : 'Cm\r' ,
              'D-\r' : 'Dm\r' ,
              'E-\r' : 'Em\r' ,
              'F-\r' : 'Fm\r' ,
              'G-\r' : 'Gm\r' ,
              'A-\r' : 'Am\r' ,
              'B-\r' : 'Bm\r' ,
              'C#-\r' : 'C#m\r' ,
              'D#-\r' : 'D#m\r' ,
              'E#-\r' : 'E#m\r' ,
              'F#-\r' : 'F#m\r' ,
              'G#-\r' : 'G#m ' ,
              'A#-\r' : 'A#m\r' ,
              'B#-\r' : 'B#m\r' ,
              'Cb-\r' : 'Cbm\r' ,
              'Db-\r' : 'Dbm\r' ,
              'Eb-\r' : 'Ebm\r' ,
              'Fb-\r' : 'Fbm\r' ,
              'Gb-\r' : 'Gbm\r' ,
              'Ab-\r' : 'Abm\r' ,
              'Bb-\r' : 'Bbm\r' ,
              'C4\r' : 'Csus4\r' ,
              'D4\r' : 'Dsus4\r' ,
              'E4\r' : 'Esus4\r' ,
              'F4\r' : 'Fsus4\r' ,
              'G4\r' : 'Gsus4\r' ,
              'A4\r' : 'Asus4\r' ,
              'B4\r' : 'Bsus4\r' ,
              'sus9\r' : 'sus2\r' ,
              'C#4\r' : 'C#sus4\r' ,
              'D#4\r' : 'D#sus4\r' ,
              'E#4\r' : 'E#sus4\r' ,
              'F#4\r' : 'F#sus4\r' ,
              'G#4\r' : 'G#sus4\r' ,
              'A#4\r' : 'A#sus4\r' ,
              'B#4\r' : 'B#sus4\r' ,
              'Cb4\r' : 'Cbsus4\r' ,
              'Db4\r' : 'Dbsus4\r' ,
              'Eb4\r' : 'Ebsus4\r' ,
              'Fb4\r' : 'Fbsus4\r' ,
              'Gb4\r' : 'Gbsus4\r' ,
              'Ab4\r' : 'Absus4\r' ,
              'Bb4\r' : 'Bbsus4\r' ,
              'C(#5)\r' : 'C5+\r' ,
              'C#(#5)\r' : 'C#5+\r' ,
              'Db(#5)\r' : 'Db5+\r' ,
              'D(#5)\r' : 'D5+\r' ,
              'D#(#5)\r' : 'D#5+\r' ,
              'Eb(#5)\r' : 'Eb5+\r' ,
              'E(#5)\r' : 'E5+\r' ,
              'F(#5)\r' : 'F5+\r' ,
              'F#(#5)\r' : 'F#5+\r' ,
              'Gb(#5)\r' : 'Gb5+\r' ,
              'G(#5)\r' : 'G5+\r' ,
              'G#(#5)\r' : 'G#5+\r' ,
              'Ab(#5)\r' : 'Ab5+\r' ,
              'A(#5)\r' : 'A5+\r' ,
              'A#(#5)\r' : 'A#5+\r' ,
              'Bb(#5)\r' : 'Bb5+\r' ,
              'B(#5)\r' : 'B5+\r' ,
              'Cb(#5)\r' : 'Cb5+\r' ,
              '5-/7\r' : '7(b5) ',
              'm(7M)\r' : 'm7M\r' ,
              'm5-/7\r' : 'm7(b5)\r' ,
              'm7(5b)\r' : 'm7(b5)\r' ,
              'm7+\r' : 'm7M\r' ,
              'm79\r' : 'm7(9)\r' ,
              'maj7\r' : '7M\r' ,
              'Maj7\r' : '7M\r' ,
              'B/Eb\r' : 'B/D#\r' ,               
              '5+/7\r' : '7(#5)\r' ,
              '6/9\r' : '6(9)\r' ,
              '7(9-)\r' : '7(b9)\r' ,
              '7(-9)\r' : '7(b9)\r' ,
              '7(9b)\r' : '7(b9)\r' ,
              '7/13\r' : '7(13)\r' ,
              '7/13b\r' : '7(b13)\r' ,
              '7/5+\r' : '7(#5)\r' ,
              '7/5-\r' : '7(b5)\r' ,
              '7/9-\r' : '7(b9)\r' ,
              'm5-/7\r' : 'm7(b5)\r' ,
              '5+/7\r' : '7(#5)\r' ,
              '7(4)9\r' : '7sus4(9)\r' ,
              '9(6)\r' : '6(9)\r' ,
              'm/9b\r' : 'm(b9)\r' ,
              'm5-/7\r' : 'm7(b5)\r' ,
              'm7/11\r' : 'm7(11)\r' ,
              '7/11\r' : '7(11)\r' ,
              'm7/9\r' : 'm7(9)\r' ,
              'm7/9+\r' : 'm7(#9)\r' ,
              'm7/+9\r' : 'm7(#9)\r' ,
              '7+/9\r' : '7M(9)\r' ,
              '7/+9\r' : '7(#9)\r' ,
              '7/10-\r' : '7(#9)\r' ,              
              'm9/7+\r' : 'm7M(9)\r' ,
              'maj7(9)\r' : '7M(9)\r' ,
              'm5-/7\r' : 'm7(b5)\r' ,
              'm7/9\r' : 'm7(9)\r' ,
              '4(7/9)' : '7sus4(9)\r' ,
              '7+/9\r' : '7M(9)\r' ,
              '7/4(9)\r' : '7sus4(9)\r' ,
              '7/4(9/13)\r' : '7sus4(9/13)\r' ,
              '7M/9\r' : '7M(9)\r' ,
              'm7(5-)\r' : 'm7(b5)\r' ,
              'm7add4\r' : 'm7(11)\r' ,
              '7/#5\r' : '7(#5)\r' ,
              '7(9/13-)\r' : '7(9/b13)\r' ,
              '7(9/-13)\r' : '7(9/b13)\r' ,
              '7(9/13b)\r' : '7(9/b13)\r' ,              
              'm7(5-)\r' : 'm7(b5)\r' ,
              '7/-9\r' : '7(b9)\r' ,
              '7/9+\r' : '7(#9)\r' ,              
              '4/7(9)\r' : '7sus4(9)\r' ,              
              '4/7(b9)\r' : '7sus4(b9)\r' ,
              '7(4)(9)\r' : '7sus4(9)\r' ,
              '7(4/13)\r' : '7sus4(13)\r' ,
              '7(9)(#11)\r' : '7(9/#11)\r' ,
              '7(9)(13)\r' : '7(9/13)\r' ,
              '7(9)(b13)\r' : '7(9/b13)\r' ,
              '7(9)(13-)\r' : '7(9/b13)\r' ,              
              '7(b9)(13)\r' : '7(b9/13)\r' ,
              '7(9-/13)\r' : '7(b9/13)\r' ,
              '7(9-)(13)\r' : '7(b9/13)\r' ,
              '7(-9)(13)\r' : '7(b9/13)\r' ,              
              '7+/5-\r' : '7M(b5)\r' ,
              '7/4(b9)\r' : '7sus4(b9)\r' ,              
              '7+/-5\r' : '7M(b5)\r' ,
              '7(11)(13)\r' : '7(11/13)\r' ,
              'm7(b5)(b13)\r' : 'm7(b5/b13)\r' ,
              'm7(b5)(11)\r' : 'm7(b5/11)\r' ,
              '7(#9)(#11)\r' : '7(#9/#11)\r' ,
              '7(4)(9)(13)\r' : '7sus4(9/13)\r' ,
              '7(b9)(b13)\r' : '7(b9/b13)\r' ,
              '7(b9)(#11)\r' : '7(b9/#11)\r' ,
              '7(13b)\r' : '7(b13)\r' ,
              '7(13-)\r' : '7(b13)\r' ,
              '7(-13)\r' : '7(b13)\r' ,
              '7(9)(11)(13)\r' : '7(9/11/13)\r' ,
              '7(9)#11\r' : '7(9/#11)\r' ,
              '7(4)(13)\r' : '7sus4(13)\r' ,
              '7(#11)(13)\r' : '7(#11/13)\r' ,
              '7(9-/11+)\r' : '7(b9/#11)\r' ,
              '7(13)(b9)\r' : '7(b9/13)\r' ,
              '7(4)(b9)\r' : '7sus4(b9)\r' ,
              '7(13)(-9)\r' : '7(b9/13)\r' ,
              '7(13)(9-)\r' : '7(b9/13)\r' ,
              '7(#9)(b13)\r' : '7(#9/b13)\r' ,
              '13/7\r' : '7(13)\r' ,
              '7(9/11+)\r' : '7(9/#11)\r' ,              
              'dim\r' : '\u00b0\r' ,
              'm4/7\r' : 'm7(11)\r' ,
              '7/9-/11+/13\r' : '7(b9/#11/13)\r' ,
              '7/9/4\r' : '7sus4(9)\r' ,
              '7/9/11\r' : '7(9/11)\r' ,
              'm9-\r' : 'm(9b)\r' ,
              '7/4/13\r' : '7sus4(13)\r' ,
              '7/9/4\r' : '7sus4(9)\r' ,
              '7+\r' : '7M\r' ,
              '7+/5+\r' : '7M(#5)\r' ,
              '7+/6\r' : '7M(13)\r' ,
              'm7/9/11\r' : 'm7(9/11)\r' ,
              '7+\r' : '7M\r' ,
              '7(9/4)\r' : '7sus4(9)\r' ,
              '7+/11+\r' : '7M(#11)\r' ,
              'm7/-5\r' : 'm7(b5)\r' ,
              'o7\r' : '\u00b07\r' ,
              'm9/7\r' : 'm7(9)\r' ,
              'm9/7+\r' : 'm7M(9)\r' ,
              '7(9-/4)\r' : '7sus4(b9)\r' ,              
              '7/9/13\r' : '7(9/13)\r' ,
              'm7/9/13\r' : 'm7(9/13)\r' ,
              'm7/9b\r' : 'm7(b9)\r' ,
              '7/9b\r' : '7(b9)\r' ,
              '7(9)(b5)\r' : '7(b5/9)\r' ,
              '7M/#5\r' : '7M(#5)\r' ,
              '7M/5+\r' : '7M(#5)\r' ,
              '7add4\r' : '7(11)\r' ,
              '7add9\r' : '7(9)\r' ,
              'm7add4\r' : 'm7(11)\r' ,
              'm7add9\r' : 'm7(9)\r' ,
              '7sus4/13\r' : '7sus4(13)\r' ,
              '7sus4/9\r' : '7sus4(9)\r' ,
              '7(5+/9)\r' : '7M(#5/9)\r' ,
              '7+(9)\r' : '7M(9)\r' ,
              '7+/13/9\r' : '7M(9/13)\r' ,
              '7/9(11)\r' : '7(9/11)\r' ,
              '7/9/13\r' : '7(9/13)\r' ,
              '7/9M\r' : '7(9)\r' ,
              'm7M/5-\r' : 'm7M(b5)\r' ,
              'm5-7\r' : 'm7(b5)\r' ,
              '7(11+)\r' : '7(#11)\r' ,
              '7+/13\r' : '7M(13)\r' ,
              '7/9/11+\r' : '7(9/#11)\r' ,
              '7/9/13\r' : '7(9/13)\r' ,
              '7/9/13-\r' : '7(9/b13)\r' ,
              '7/b13\r' : '7(b13)\r' ,
              '79/11\r' : '7(9/11)\r' ,
              '7/#11\r' : '7(#11)\r' ,
              '7/11+\r' : '7(#11)\r' ,
              'm7/#11\r' : 'm7(#11)\r' ,
              'm7/11+\r' : 'm7(#11)\r' ,
              '7/4+\r' : '7(#11)\r' ,
              '7M(11+)\r' : '7M(#11)\r' ,
              '7/#9\r' : '7(#9)\r' ,
              '7/9#\r' : '7(#9)\r' ,
              '7/+5\r' : '7(#5)\r' ,              
              '7/(9)\r' : '7(9)\r' ,
              'm7/4M\r' : 'm7(11)\r' ,
              'm7/5b\r' : 'm7(b5)\r' ,
              'm7/5b(9b)\r' : 'm7(b5/b9)\r' ,
              'm7/9#\r' : 'm7(#9)\r' ,
              'm7/9(B5)\r' : 'm7(b5/9)\r' ,
              '5+/7(9)\r' : '7(#5/9)\r' ,
              '7(9+/13-)\r' : '7(#9/b13)\r' ,              
              '7(B13)\r' : '7(b13)\r' ,
              '7(b13)(#9)\r' : '7(#9/b13)\r' ,
              '7(b13)(9)\r' : '7(9/b13)\r' ,
              '7(b13)(b9)\r' : '7(b9/b13)\r' ,
              '7(sus4)\r' : '7sus4\r' ,
              '7/(b13)\r' : '7(b13)\r' ,
              '7/13+\r' : '7(13)\r' ,
              '7/5b\r' : '7(b5)\r' ,
              '7/9#\r' : '7(#9)\r' ,
              '7/9-/13\r' : '7(b9/13)\r' ,
              '7/9/11/13\r' : '7(9/11/13)\r' ,
              'A7/9b(13)\r' : '7(b9/13)\r' ,
              '7maj\r' : '7M\r' ,              
              '7M9\r' : '7M(9)\r' ,              
              '7(13)(9)\r' : '7(9/13)\r' ,
              '7(5-)\r' : '7(b5)\r' ,
              '7(9-/11)\r' : '7(b9/11)\r' ,
              '7(b5)(13)\r' : '7(b5/13)\r' ,
              '7/9(#11)\r' : '7(9/#11)\r' ,
              '7/9-/13-\r' : '7(b9/b13)\r' ,
              '7/-9/-13\r' : '7(b9/b13)\r' ,
              '9/6\r' : '6(9)\r' ,
              'maj7(#5)\r' : '7M(#5)\r' ,
              'maj7/11#\r' : '7M(#11)\r' ,              
              '6(9/11+)\r' : '6(9/#11)\r' ,
              '°(13-)\r' : '°(b13)\r' ,
              'dim(b13)\r' : '°(b13)\r' ,
              'm(7M/9)\r' : 'm7M(9)\r' ,
              'm5-/7-\r' : 'm7(b5)\r' ,
              'm7(B5)\r' : 'm7(b5)\r' ,
              '7(b5)/13\r' : '7(b5,13)\r' ,
              '7(b9)(11)\r' : '7(b9/11)\r' ,              
              '7(9-/13-)\r' : '7(b9/b13)\r' ,
              '7(b9)(11)\r' : '7(b9/11)\r' ,
              '7(b9)(b5)\r' : '7(b5,b9)\r' ,
              '7/4(13)\r' : '7sus4(13)\r' ,
              '7/9(13)\r' : '7(9/13)\r' ,
              '7/9-/11+\r' : '7(b9/#11)\r' ,
              '7/b9\r' : '7(b9)\r' ,
              '7M(6)(9)\r' : '7M(6/9)\r' ,
              '7M(9)(13)\r' : '7M(9/13)\r' ,
              '9-/7\r' : '7(b9)\r' ,
              '7(9+/11+)\r' : '7(#9/#11)\r' ,
              '7/9/#11\r' : '7(9/#11)\r' ,
              'm7(9)b5\r' : 'm7(b5/9)\r' ,
              'm7/9b5\r' : 'm7(b5/9)\r' ,
              'm(7M/9)\r' : 'm7M(9)\r' ,
              'Dm(Add13)\r' : 'Dm6\r' ,
              'Dm(Maj7)\r' : 'Dm7M\r' ,
              'Dm(maj7)\r' : 'Dm7M\r' ,
              '#m(Maj7)\r' : '#m7M\r' ,
              '#m(maj7)\r' : '#m7M\r' ,
              'bm(Maj7)\r' : 'bm7M\r' ,
              'bm(maj7)\r' : 'bm7M\r' ,
              '7/9/5-\r' : '7(b5/9)\r' ,
              '7/9b/13\r' : '7(b9/13)\r' ,
              '7/9m\r' : '7(b9)\r' ,
              'm7/9m\r' : 'm7(b9)\r' ,
              '7M/(9)\r' : '7M(9)\r' ,              
              '7M/13\r' : '7M(13)\r' ,
              '7M/6\r' : '7M(13)\r' ,
              '7b/9-\r' : '7(b9)\r' ,
              '7b13\r' : '7(b13)\r' ,
              'm7b13\r' : 'm7(b13)\r' ,
              '7b9b5\r' : '7(b5/b9)\r' ,
              '5(6/9)\r' : '6(9)\r' ,
              '5(7M)\r' : '7M\r' ,
              '5(7M/9)\r' : '7M(9)\r' ,
              '6/7\r' : '7(13)\r' ,
              'C#o\r' : 'C#\u00b0\r' ,
              'D#o\r' : 'D#\u00b0\r' ,
              'F#o\r' : 'D#\u00b0\r' ,
              'A#o\r' : 'A#\u00b0\r' ,
              'Bbo\r' : 'Bb\u00b0\r' ,
              '5+(7)\r' : '7(#5)\r' ,
              '7(+5)' : '7(#5)\r' ,
              '7(5M)\r' : '7\r' ,
              '7(6)\r' : '7(13)\r' ,
              '7(-5)\r' : '7(b5)\r' ,
              '7(5-)\r' : '7(b5)\r' ,
              'm(maj7)\r' : 'm7M\r' ,
              'Am/f\r' : 'Am/F\r' ,
              'm11/7\r' : 'm7(11)\r' ,
              'm7(9+)\r' : 'm7(#9)\r' ,
              'm7/6/4\r' : 'm7(11/13)\r' ,
              'm79-\r' : 'm7(b9)\r' ,
              '4/7(b9)\r' : '7sus4(b9)\r' ,
              '4(7)\r' : '7sus4\r' ,   # cuidado com esse aqui
              '7(4/b9)\r' : '7sus4(b9)\r' ,
              '7(5+/9+)\r' : '7(#5/#9)\r' ,
              '7(9+)\r' : '7(#9)\r' ,
              '7/5-/9\r' : '7(b5/9)\r' ,
              'maj7(#11)\r' : '7M(#11)\r' ,
              'm(maj7)\r' : 'm7M\r' ,
              'm5-\r' : '\u00b0\r' ,
              'm7(-5)\r' : 'm7(b5)\r' ,
              'm7(add11)\r' : 'm7(11)\r' ,
              'm7/5\r' : 'm7\r' ,
              'm7/4m\r' : 'm7(11)\r' ,
              'm711\r' : 'm7(11)\r' ,
              'm7b5\r' : 'm7(b5)\r' ,
              'maj7(#11)\r' : '7M(#11)\r' ,
              '7/5b(9)\r' : '7(b5/9)' ,
              'm7/11-\r' : 'm7(11)\r' ,
              '4(7(9))\r' : '7sus4(9)\r' ,
              'C69\r' : 'C6(9)\r' ,
              '7M/5-\r' : '7M(b5)\r' ,
              '9/7M\r' : '7M(9)\r' ,
              'm7M(5-)\r' : '\u00b07M\r' ,
              '7(b5,13)\r' : '7(b5/13)\r' ,
              '7(9+)\r' : '7(#9)\r' ,
              'D(add9)\r' : 'Dadd9\r' ,
              '7+/9b\r' : '7M(b9)\r' ,
              '7/5+/9-\r' : '7(#5/b9)\r' ,
              '7/5-/9-\r' : '7(b5/b9)\r' ,
              '749\r' : '7sus4(9)\r' ,
              'DM7\r' : 'D7M\r' ,
              'CM7\r' : 'C7M\r' ,
              'DM7(9)\r' : 'D7M(9)\r' ,
              'm5b/7m\r' : 'm7(b5)\r' ,
              'm6/7\r' : 'm7(13)\r' ,
              'm7(b5)(9)\r' : 'm7(b5/9)\r' ,
              '7(4+)\r' : '7(#11)\r' ,
              '7(b9)/13\r' : '7(b9/13)\r' ,
              '7/13(b9)\r' : '7(b9/13)\r' ,
              '7/5(9)\r' : '7(9)\r' ,
              '7M(5+)\r' : '7M(#5)\r' ,
              'm(Maj7)\r' : 'm7M\r' ,
              'm5-/7M\r' : '\u00b07M\r' ,
              'm7(-5)\r' : 'm7(b5)\r' ,
              '7(b13)(11)\r' : '7(11/b13)\r' ,
              '7+(4+)\r' : '7(#11)\r' ,
              '7+(5b)\r' : '7M(b5)\r' ,
              '7+(b5)\r' : '7M(b5)\r' ,
              'sus4/7/9\r' : '7sus4(9)\r' ,              
              'M7(9)\r' : '7M(9)\r' ,              
              'D79\r' : 'D7(9)\r' ,
              'maj7/5#\r' : '7M(#5)\r' ,
              'maj7(9)\r' : '7M(9)\r' ,
              'M7(13)\r' : '7M(13)\r' ,
              '9/7M\r' : '7M(9)\r' ,
              '7M(6)\r' : '7M(13)\r' ,
              'm7(4M)\r' : 'm7(11)\r' ,
              '7/sus4\r' : '7sus4\r' ,
              'maj79\r' : '7M(9)\r' ,
              'maj7(13)\r' : '7M(13)\r' ,
              'maj7(9)\r' : '7M(9)\r' ,
              'm75-\r' : 'm7(b5)\r' ,
              '713\r' : '7(13)\r' ,
              '74(9)\r' : '7sus4(9)\r' ,
              '7/b9/13\r' : '7(b9/13)\r' ,
              '7/b5(b9)\r' : '7(b5/b9)\r' ,
              '7/9(4/13)\r' : '7sus4(9/13)' ,
              '7/6-\r' : '7(b13)\r' ,
              '7/6(9)\r' : '7(9/13)\r' ,
              '7/4/9/13\r' : '7sus4(9/13)\r' ,
              '7/13/9-\r' : '7(b9/13)\r' ,
              '7/11/13\r' : '7(11/13)\r' ,
              '7/-5\r' : '7(b5)\r' ,
              'm7/-5\r' : 'm7(b5)\r' ,
              '7/(5B)\r' : '7(b5)\r' ,
              'm7/(5B)\r' : 'm7(b5)\r' ,
              '7(B9)\r' : '7(b9)\r' ,
              '7(add4)\r' : '7(11)\r' ,
              '7(4/9/13)\r' : '7sus4(9/13)\r' ,
              '6/7(b9)\r' : '7(b9/13)' ,
              '4(7/13)\r' : '7sus4(13)\r' ,             
              '(5+)(7)(9b)\r' : '7(#5/b9)\r' ,
              'm7(4)\r' : 'm7(11)\r' ,
              'm7(11)(9)\r' : 'm7(9/11)\r' ,
              'm(7+)\r' : 'm7M\r' ,
              'Dim\r' : '\u00b0\r' ,
              '7SUS4\r' : '7sus4\r' ,
              'm9(b7)(11)\r' : '7(b9/11)\r' ,
              'm7/add11\r' : 'm7(11)\r' ,
              '7(+9)\r' : '7(#9)\r' ,
              '7(5-/9)\r' : '7(b5/9)\r' ,
              '7(5b)\r' : '7(b5)\r' ,
              '7(9)(#5)\r' : '7(#5/9)\r' ,
              '7(9/11+/13)\r' : '7(9/#11/13)\r' ,
              '7(add11)\r' : '7(11)\r' ,
              '7(b9)13\r' : '7(b9/13)\r' ,
              'm7/5B\r' : 'm7(b5)\r' ,
              'sus4(7)\r' : '7sus4\r' ,
              '7(11#)\r' : '7(#11)\r' ,
              'maj7(13)\r' : '7M(13)\r' ,
              'maj7(9)\r' : '7M(9)\r' ,
              '7(b9)/5-\r' : '7(b5/b9)\r' ,
              '\u00b0/13-\r' : '\u00b0(b13)\r' ,
              '\u00b013\r' : '\u00b0(13)\r' ,
              '7(#5)(9)\r' : '7(#5/9)\r' ,
              '7(9)(4)\r' : '7sus4(9)\r' ,
              '7(b5,b9)\r' : '7(b5/b9)\r' ,
              '7+(6/9)\r' : '7M(9/13)\r' ,
              'D74\r' : 'D7sus4\r' ,
              'D76\r' : 'D7(13)\r' ,
              '7M(6/9)\r' : '7M(9/13)\r' ,              
              'm7(5)-\r' : 'm7(b5)\r' ,
              'm4/7/9\r' : 'm7(9/11)\r' ,
              'maj7(9)\r' : '7M(9)\r' ,
              '7(4)(b13)\r' : '7sus4(b13)\r' ,
              '7(b13/b9)\r' : '7(b9/13)\r' ,
              '7(b5)(b9)\r' : '7(b5/b9)\r' ,
              '7/11+(13)\r' : '7(#11/13)\r' ,
              '9/7M\r' : '7M(9)\r' ,
              '7(4/9-)\r' : '7sus4(b9)\r' ,
              'm5-(7)\r' : 'm7(b5)\r' ,
              'm5/-7\r' : 'm7(b5)\r' ,
              '4(7/9-)\r' : '7sus4(b9)\r' ,              
              'm5b/7\r' : 'm7(b5)\r' ,
              'sus9/4' : 'sus4(9) ',
              '7(9)11\r' : '7(9/11)\r' ,
              # RealBook              
              'min7\r' : 'm7\r' ,
              'min\r' : 'm\r' ,
              'maj7\r' : '7M\r' ,
              'maj6\r' : '6\r' ,
              
              
              
              
              
              }     

    for key in sorted(chaves, key=len, reverse=True):
        x = x.replace(key, chaves[key])        
    return x


#diretório com as sequências de acordes

path = r"C:\Users\fraub\Desktop\dataset_cifraclub_parcial\"

os.chdir(path)

for file_path in Path(path).glob('**/*.txt'):
    arquivo = str(file_path)
    
    with codecs.open(arquivo, "r", encoding="utf8", errors="ignore") as f:    
        cifra = f.read() 
        cifra = LimpaCifraClub(cifra)
        cifra = UniformizaCifra(cifra)
        cifra = UniformizaCifraNewline(cifra)        
        cifra = CorrigeInversoes(cifra)
        f2 = open(arquivo+ "2", "wb")
        print(arquivo+"2") 
        f2.write(cifra.encode("utf8"))
        f2.close()
        
